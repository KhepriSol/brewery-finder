{"version":3,"sources":["brewerylocator.js"],"names":["map","service","infoWindow","mapKey","minneapolis","google","maps","LatLng","infowindow","initMap","InfoWindow","input","document","getElementById","searchBox","SearchBox","addListener","setBounds","getBounds","places","length","getPlaces","forEach","bounds","union","place","geometry","extend","viewport","fitBounds","location","radius","request","nearbySearch","keyword","status","createMarker","results","PlacesService","PlacesServiceStatus","OK","i","marker","open","Marker","position","event","setContent","name","window"],"mappings":"aAAA,IAAIA,IACAC,QADAD,WACAC,UACAC,OAAAA,0CAEJ,SAAIC,UAGF,IAAIC,EAAc,IAAIC,OAAOC,KAAKC,OAAO,SAAU,QADrDC,WAASC,IAAUJ,OAAAC,KAAAI,WACjBV,IAAII,IAAAA,OAAWE,KAAOD,IAAAA,SAAYE,eAAgB,OAAhC,CAClBC,OAAUJ,EACVJ,KAAM,KAAoD,IAA1DW,EAAAC,SAAAC,eAAA,gBAKAC,UAAYF,IAAAA,OAASC,KAAAA,OAATE,UAAwBJ,GAGpCX,IAAIgB,YAAY,iBAAkB,WAChCF,UAAUG,UAAUjB,IAAIkB,eAIxBJ,UAAIK,YAASL,iBAAb,WAEA,IAAIK,EAAOC,UAAXC,YAGAF,GAAe,GAAfA,EAAOG,OAAPH,CAEII,IAAAA,EAAOC,IAAMC,OAAMC,KAAAA,aACpBP,EAFDG,QAEO,SAAAG,GACLF,EAAOI,SAAOF,SACfF,EAAAC,MAAAC,EAAAC,SAAAE,UAECC,EAAAA,OAAUN,EAAdG,SAAAI,YAIEC,IAAAA,UAFYR,GAAA,IAAdS,EAAA,CAKA/B,SAAUD,IAAIK,YACdJ,OAAQgC,IACNC,QAAIC,mBAEAC,QAAAA,IAAAA,OAAaC,KAAOlB,OAApBmB,cAAAtC,MACDiC,aAAAD,EAAA,SAAAK,EAAAF,GACF,GAAAA,IAAA9B,OAAAC,KAAAa,OAAAoB,oBAAAC,GALH,IAAA,IAAAC,EAAA,EAAAA,EAAAJ,EAAAjB,OAAAqB,IArBFL,aAAAC,EAAAI,SAmCAxC,IAAAA,EAAcI,CACdJ,SAAQgC,IAAAA,YACNF,OAAII,IACFD,QAAK,mBAEJjC,QAAA,IAAAI,OAAAC,KAAAa,OAAAmB,cAAAtC,MACFiC,aAAAD,EAAA,SAAAK,EAAAF,GALH,GAAAA,IAAA9B,OAAAC,KAAAa,OAAAoB,oBAAAC,GAOD,IAAA,IAAAC,EAAA,EAAAA,EAAAJ,EAAAjB,OAAAqB,IAJOL,aAAaC,EAAQI,MASW,SAAtCL,aAAAX,GAKApB,GAAAA,EAAAqB,UAAkBV,EAAY0B,SAAQZ,SAAtCzB,CAEEG,IAAAA,EAAWmC,IAAK3C,OAAhBM,KAAAsC,OAAA,CAFF5C,IAAAA,IAID6C,SAAApB,EAAAC,SAAAI,WAJCzB,OAAOC,KAAKwC,MAAM9B,YAAY0B,EAAQ,QAAS,WAC7ClC,WAAWuC,WAAWtB,EAAMuB,MAAQ,IACpCxC,WAAWmC,KAAK3C,QAIpBiD,OAAOxC,QAAUA","file":"brewerylocator.min.js","sourcesContent":["let map;\r\nlet service;\r\nlet infoWindow;\r\nlet searchBox;\r\nlet mapKey = \"AIzaSyBybEyfduGmfs_d0oWy_90x0T4plbuRWB8\";\r\n\r\nfunction initMap() {\r\n  let minneapolis = new google.maps.LatLng(44.9778, -93.2650);\r\n  infowindow = new google.maps.InfoWindow();\r\n  map = new google.maps.Map(document.getElementById(\"map\"), {\r\n    center: minneapolis,\r\n    zoom: 12,\r\n  });\r\n\r\n  let input = document.getElementById(\"search-input\");\r\n  searchBox = new google.maps.places.SearchBox(input);\r\n\r\n  map.addListener(\"bounds_changed\", () => {\r\n    searchBox.setBounds(map.getBounds());\r\n  });\r\n\r\n  searchBox.addListener(\"places_changed\", () => {\r\n    let places = searchBox.getPlaces();\r\n\r\n    if (places.length == 0) return;\r\n\r\n    let bounds = new google.maps.LatLngBounds();\r\n    places.forEach((place) => {\r\n      if (place.geometry.viewport) {\r\n        bounds.union(place.geometry.viewport);\r\n      } else {\r\n        bounds.extend(place.geometry.location);\r\n      }\r\n    });\r\n    map.fitBounds(bounds);\r\n\r\n    let request = {\r\n      location: map.getCenter(),\r\n      radius: 5000,\r\n      keyword: \"Microbreweries\",\r\n    };\r\n    service = new google.maps.places.PlacesService(map);\r\n    service.nearbySearch(request, (results, status) => {\r\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n        for (let i = 0; i < results.length; i++) {\r\n          createMarker(results[i]);\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  let request = {\r\n    location: map.getCenter(),\r\n    radius: 5000,\r\n    keyword: \"Microbreweries\",\r\n  };\r\n  service = new google.maps.places.PlacesService(map);\r\n  service.nearbySearch(request, (results, status) => {\r\n    if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n      for (let i = 0; i < results.length; i++) {\r\n        createMarker(results[i]);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction createMarker(place) {\r\n  if (!place.geometry || !place.geometry.location) return;\r\n\r\n  const marker = new google.maps.Marker({\r\n    map,\r\n    position: place.geometry.location,\r\n  });\r\n\r\n  google.maps.event.addListener(marker, \"click\", () => {\r\n    infowindow.setContent(place.name || \"\");\r\n    infowindow.open(map);\r\n  });\r\n}\r\n\r\nwindow.initMap = initMap;\r\n\r\n\r\n\r\n\r\n\r\n"]}