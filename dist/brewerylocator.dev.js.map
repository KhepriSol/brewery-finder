{"version":3,"sources":["brewerylocator.js"],"names":["map","service","infoWindow","searchBox","mapKey","initMap","minneapolis","google","maps","LatLng","infowindow","InfoWindow","Map","document","getElementById","center","zoom","input","places","SearchBox","addListener","setBounds","getBounds","getPlaces","length","bounds","LatLngBounds","forEach","place","geometry","viewport","union","extend","location","fitBounds","request","getCenter","radius","keyword","PlacesService","nearbySearch","results","status","PlacesServiceStatus","OK","i","createMarker","marker","Marker","position","event","setContent","name","open","window"],"mappings":";;AAAA,IAAIA,GAAJ;AACA,IAAIC,OAAJ;AACA,IAAIC,UAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,MAAM,GAAG,yCAAb;;AAEA,SAASC,OAAT,GAAmB;AACjB,MAAIC,WAAW,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,MAAhB,CAAuB,OAAvB,EAAgC,CAAC,OAAjC,CAAlB;AACAC,EAAAA,UAAU,GAAG,IAAIH,MAAM,CAACC,IAAP,CAAYG,UAAhB,EAAb;AACAX,EAAAA,GAAG,GAAG,IAAIO,MAAM,CAACC,IAAP,CAAYI,GAAhB,CAAoBC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AACxDC,IAAAA,MAAM,EAAET,WADgD;AAExDU,IAAAA,IAAI,EAAE;AAFkD,GAApD,CAAN;AAKA,MAAIC,KAAK,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAZ;AACAX,EAAAA,SAAS,GAAG,IAAII,MAAM,CAACC,IAAP,CAAYU,MAAZ,CAAmBC,SAAvB,CAAiCF,KAAjC,CAAZ;AAEAjB,EAAAA,GAAG,CAACoB,WAAJ,CAAgB,gBAAhB,EAAkC,YAAM;AACtCjB,IAAAA,SAAS,CAACkB,SAAV,CAAoBrB,GAAG,CAACsB,SAAJ,EAApB;AACD,GAFD;AAIAnB,EAAAA,SAAS,CAACiB,WAAV,CAAsB,gBAAtB,EAAwC,YAAM;AAC5C,QAAIF,MAAM,GAAGf,SAAS,CAACoB,SAAV,EAAb;AAEA,QAAIL,MAAM,CAACM,MAAP,IAAiB,CAArB,EAAwB;AAExB,QAAIC,MAAM,GAAG,IAAIlB,MAAM,CAACC,IAAP,CAAYkB,YAAhB,EAAb;AACAR,IAAAA,MAAM,CAACS,OAAP,CAAe,UAACC,KAAD,EAAW;AACxB,UAAIA,KAAK,CAACC,QAAN,CAAeC,QAAnB,EAA6B;AAC3BL,QAAAA,MAAM,CAACM,KAAP,CAAaH,KAAK,CAACC,QAAN,CAAeC,QAA5B;AACD,OAFD,MAEO;AACLL,QAAAA,MAAM,CAACO,MAAP,CAAcJ,KAAK,CAACC,QAAN,CAAeI,QAA7B;AACD;AACF,KAND;AAOAjC,IAAAA,GAAG,CAACkC,SAAJ,CAAcT,MAAd;AAEA,QAAIU,OAAO,GAAG;AACZF,MAAAA,QAAQ,EAAEjC,GAAG,CAACoC,SAAJ,EADE;AAEZC,MAAAA,MAAM,EAAE,IAFI;AAGZC,MAAAA,OAAO,EAAE;AAHG,KAAd;AAKArC,IAAAA,OAAO,GAAG,IAAIM,MAAM,CAACC,IAAP,CAAYU,MAAZ,CAAmBqB,aAAvB,CAAqCvC,GAArC,CAAV;AACAC,IAAAA,OAAO,CAACuC,YAAR,CAAqBL,OAArB,EAA8B,UAACM,OAAD,EAAUC,MAAV,EAAqB;AACjD,UAAIA,MAAM,KAAKnC,MAAM,CAACC,IAAP,CAAYU,MAAZ,CAAmByB,mBAAnB,CAAuCC,EAAtD,EAA0D;AACxD,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACjB,MAA5B,EAAoCqB,CAAC,EAArC,EAAyC;AACvCC,UAAAA,YAAY,CAACL,OAAO,CAACI,CAAD,CAAR,CAAZ;AACD;AACF;AACF,KAND;AAOD,GA5BD;AA8BA,MAAIV,OAAO,GAAG;AACZF,IAAAA,QAAQ,EAAEjC,GAAG,CAACoC,SAAJ,EADE;AAEZC,IAAAA,MAAM,EAAE,IAFI;AAGZC,IAAAA,OAAO,EAAE;AAHG,GAAd;AAKArC,EAAAA,OAAO,GAAG,IAAIM,MAAM,CAACC,IAAP,CAAYU,MAAZ,CAAmBqB,aAAvB,CAAqCvC,GAArC,CAAV;AACAC,EAAAA,OAAO,CAACuC,YAAR,CAAqBL,OAArB,EAA8B,UAACM,OAAD,EAAUC,MAAV,EAAqB;AACjD,QAAIA,MAAM,KAAKnC,MAAM,CAACC,IAAP,CAAYU,MAAZ,CAAmByB,mBAAnB,CAAuCC,EAAtD,EAA0D;AACxD,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,OAAO,CAACjB,MAA5B,EAAoCqB,CAAC,EAArC,EAAyC;AACvCC,QAAAA,YAAY,CAACL,OAAO,CAACI,CAAD,CAAR,CAAZ;AACD;AACF;AACF,GAND;AAOD;;AAED,SAASC,YAAT,CAAsBlB,KAAtB,EAA6B;AAC3B,MAAI,CAACA,KAAK,CAACC,QAAP,IAAmB,CAACD,KAAK,CAACC,QAAN,CAAeI,QAAvC,EAAiD;AAEjD,MAAMc,MAAM,GAAG,IAAIxC,MAAM,CAACC,IAAP,CAAYwC,MAAhB,CAAuB;AACpChD,IAAAA,GAAG,EAAHA,GADoC;AAEpCiD,IAAAA,QAAQ,EAAErB,KAAK,CAACC,QAAN,CAAeI;AAFW,GAAvB,CAAf;AAKA1B,EAAAA,MAAM,CAACC,IAAP,CAAY0C,KAAZ,CAAkB9B,WAAlB,CAA8B2B,MAA9B,EAAsC,OAAtC,EAA+C,YAAM;AACnDrC,IAAAA,UAAU,CAACyC,UAAX,CAAsBvB,KAAK,CAACwB,IAAN,IAAc,EAApC;AACA1C,IAAAA,UAAU,CAAC2C,IAAX,CAAgBrD,GAAhB;AACD,GAHD;AAID;;AAEDsD,MAAM,CAACjD,OAAP,GAAiBA,OAAjB","sourcesContent":["let map;\r\nlet service;\r\nlet infoWindow;\r\nlet searchBox;\r\nlet mapKey = \"AIzaSyBybEyfduGmfs_d0oWy_90x0T4plbuRWB8\";\r\n\r\nfunction initMap() {\r\n  let minneapolis = new google.maps.LatLng(44.9778, -93.2650);\r\n  infowindow = new google.maps.InfoWindow();\r\n  map = new google.maps.Map(document.getElementById(\"map\"), {\r\n    center: minneapolis,\r\n    zoom: 12,\r\n  });\r\n\r\n  let input = document.getElementById(\"search-input\");\r\n  searchBox = new google.maps.places.SearchBox(input);\r\n\r\n  map.addListener(\"bounds_changed\", () => {\r\n    searchBox.setBounds(map.getBounds());\r\n  });\r\n\r\n  searchBox.addListener(\"places_changed\", () => {\r\n    let places = searchBox.getPlaces();\r\n\r\n    if (places.length == 0) return;\r\n\r\n    let bounds = new google.maps.LatLngBounds();\r\n    places.forEach((place) => {\r\n      if (place.geometry.viewport) {\r\n        bounds.union(place.geometry.viewport);\r\n      } else {\r\n        bounds.extend(place.geometry.location);\r\n      }\r\n    });\r\n    map.fitBounds(bounds);\r\n\r\n    let request = {\r\n      location: map.getCenter(),\r\n      radius: 5000,\r\n      keyword: \"Microbreweries\",\r\n    };\r\n    service = new google.maps.places.PlacesService(map);\r\n    service.nearbySearch(request, (results, status) => {\r\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n        for (let i = 0; i < results.length; i++) {\r\n          createMarker(results[i]);\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  let request = {\r\n    location: map.getCenter(),\r\n    radius: 5000,\r\n    keyword: \"Microbreweries\",\r\n  };\r\n  service = new google.maps.places.PlacesService(map);\r\n  service.nearbySearch(request, (results, status) => {\r\n    if (status === google.maps.places.PlacesServiceStatus.OK) {\r\n      for (let i = 0; i < results.length; i++) {\r\n        createMarker(results[i]);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction createMarker(place) {\r\n  if (!place.geometry || !place.geometry.location) return;\r\n\r\n  const marker = new google.maps.Marker({\r\n    map,\r\n    position: place.geometry.location,\r\n  });\r\n\r\n  google.maps.event.addListener(marker, \"click\", () => {\r\n    infowindow.setContent(place.name || \"\");\r\n    infowindow.open(map);\r\n  });\r\n}\r\n\r\nwindow.initMap = initMap;\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"brewerylocator.dev.js"}